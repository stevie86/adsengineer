{
  "to": [
    {
      "email": "admin@mycannaby.de",
      "name": "mycannaby"
    }
  ],
  "from": {
    "email": "setup@adsengineer.cloud",
    "name": "AdsEngineer Setup"
  },
  "subject": "üöÄ AdsEngineer Setup Complete - mycannaby",
  "html": "\n<!DOCTYPE html>\n<html>\n<head>\n  <meta charset=\"utf-8\">\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n  <title>AdsEngineer Setup Instructions</title>\n</head>\n<body style=\"font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; max-width: 600px; margin: 0 auto; padding: 20px; background: #f5f5f5;\">\n  <div style=\"background: white; border-radius: 12px; padding: 32px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);\">\n    <h1 style=\"color: #1a1a1a; margin-top: 0;\">üöÄ AdsEngineer Setup Complete!</h1>\n    \n    <p style=\"color: #4a4a4a; font-size: 16px; line-height: 1.6;\">\n      Hi there! Your <strong>mycannaby</strong> account has been configured.\n      Here's what you need to do to get started:\n    </p>\n    \n    <div style=\"background: #f0f7ff; border-radius: 8px; padding: 20px; margin: 24px 0;\">\n      <h3 style=\"color: #0066cc; margin-top: 0;\">üìã Your Webhook URL</h3>\n      <code style=\"background: #e6f2ff; padding: 8px 12px; border-radius: 4px; display: block; word-break: break-all; font-size: 14px;\">\n        https://adsengineer-cloud.adsengineer.workers.dev/api/v1/shopify/webhook\n      </code>\n    </div>\n    \n    <h2 style=\"color: #1a1a1a; font-size: 18px;\">üîß Step 1: Configure Shopify Webhooks</h2>\n    \n    <p style=\"color: #4a4a4a; font-size: 14px; line-height: 1.6;\">\n      Run these commands in your Shopify store's terminal to register webhooks:\n    </p>\n    \n    <pre style=\"background: #1a1a1a; color: #00ff00; padding: 16px; border-radius: 8px; overflow-x: auto; font-size: 12px;\">\n# Install Shopify CLI if you haven't already\nnpm install -g @shopify/cli\n\n# Login to your store\nshopify auth login\n\n# Register webhooks\nshopify webhooks create --topic=orders/create --address=https://adsengineer-cloud.adsengineer.workers.dev/api/v1/shopify/webhook --api-version=2024-01\nshopify webhooks create --topic=orders/paid --address=https://adsengineer-cloud.adsengineer.workers.dev/api/v1/shopify/webhook --api-version=2024-01\nshopify webhooks create --topic=customers/create --address=https://adsengineer-cloud.adsengineer.workers.dev/api/v1/shopify/webhook --api-version=2024-01</pre>\n    \n    <h2 style=\"color: #1a1a1a; font-size: 18px;\">üìù Step 2: Add GCLID Tracking Script</h2>\n    \n    <p style=\"color: #4a4a4a; font-size: 14px; line-height: 1.6;\">\n      Add this to your Shopify theme's <code>theme.liquid</code> before <code>&lt;/head&gt;</code>:\n    </p>\n    \n    <pre style=\"background: #1a1a1a; color: #00ff00; padding: 16px; border-radius: 8px; overflow-x: auto; font-size: 12px;\">\n&lt;script&gt;\n(function() {\n  const urlParams = new URLSearchParams(window.location.search);\n  const gclid = urlParams.get('gclid');\n  if (gclid) {\n    localStorage.setItem('adsengineer_gclid', gclid);\n    if (window.Shopify && Shopify.checkout) {\n      const existing = Shopify.checkout.noteAttributes?.find(a => a.name === 'gclid');\n      if (!existing && Shopify.checkout.noteAttributes) {\n        Shopify.checkout.noteAttributes.push({ name: 'gclid', value: gclid });\n      }\n    }\n  }\n})();\n&lt;/script&gt;</pre>\n    \n    <h2 style=\"color: #1a1a1a; font-size: 18px;\">üìä Conversion Tracking</h2>\n    \n    <table style=\"width: 100%; border-collapse: collapse; margin: 16px 0; font-size: 14px;\">\n      <tr style=\"background: #f5f5f5;\">\n        <td style=\"padding: 8px; border: 1px solid #e0e0e0;\"><strong>Primary Route</strong></td>\n        <td style=\"padding: 8px; border: 1px solid #e0e0e0;\">GOOGLE_ADS</td>\n      </tr>\n      <tr>\n        <td style=\"padding: 8px; border: 1px solid #e0e0e0;\"><strong>Secondary Route</strong></td>\n        <td style=\"padding: 8px; border: 1px solid #e0e0e0;\">GA4</td>\n      </tr>\n      \n      <tr style=\"background: #e6ffe6;\">\n        <td style=\"padding: 8px; border: 1px solid #e0e0e0;\"><strong>Mode</strong></td>\n        <td style=\"padding: 8px; border: 1px solid #e0e0e0; color: #006600;\">üîÑ PARALLEL (Comparison)</td>\n      </tr>\n      \n      \n      <tr style=\"background: #fff0e6;\">\n        <td style=\"padding: 8px; border: 1px solid #e0e0e0;\"><strong>GA4 Measurement ID</strong></td>\n        <td style=\"padding: 8px; border: 1px solid #e0e0e0;\">G-XXXXXXXXXX</td>\n      </tr>\n      \n    </table>\n    \n    <h2 style=\"color: #1a1a1a; font-size: 18px;\">üß™ Test Your Setup</h2>\n    \n    <p style=\"color: #4a4a4a; font-size: 14px; line-height: 1.6;\">\n      Send a test webhook to verify everything works:\n    </p>\n    \n    <pre style=\"background: #1a1a1a; color: #00ff00; padding: 16px; border-radius: 8px; overflow-x: auto; font-size: 12px;\">\ncurl -X POST https://adsengineer-cloud.adsengineer.workers.dev/api/v1/shopify/webhook \\\n  -H \"Content-Type: application/json\" \\\n  -H \"X-Shopify-Shop-Domain: mycannaby.myshopify.com\" \\\n  -H \"X-Shopify-Topic: orders/create\" \\\n  -d '{\n    \"id\": 1234567890,\n    \"email\": \"test@mycannaby.de\",\n    \"created_at\": \"'$(date -Iseconds)'\",\n    \"total_price\": \"99.00\",\n    \"currency\": \"EUR\",\n    \"customer\": {\"id\": 1, \"email\": \"test@mycannaby.de\"},\n    \"note_attributes\": [{\"name\": \"gclid\", \"value\": \"GCLID_TestDemo12345678901234567890\"}]\n  }'</pre>\n    \n    <div style=\"background: #fff3cd; border-radius: 8px; padding: 16px; margin: 24px 0;\">\n      <h4 style=\"color: #856404; margin-top: 0;\">‚ö†Ô∏è Important Notes</h4>\n      <ul style=\"color: #856404; font-size: 14px; margin: 0; padding-left: 20px;\">\n        <li>Replace mock credentials with real Google Ads API credentials</li>\n        <li>GA4 events will be sent to G-XXXXXXXXXX</li>\n        <li>Secondary conversions run in parallel for comparison</li>\n        <li>GCLIDs are hashed for privacy compliance</li>\n      </ul>\n    </div>\n    \n    <p style=\"color: #888; font-size: 12px; margin-top: 32px; text-align: center;\">\n      Questions? Reply to this email or open a GitHub issue.<br>\n      AdsEngineer - Enterprise Conversion Tracking\n    </p>\n  </div>\n</body>\n</html>\n",
  "text": "\nAdsEngineer Setup Complete - mycannaby\n\nHi there!\n\nYour mycannaby account has been configured. Here's what you need to do:\n\n1. CONFIGURE SHOPIFY WEBHOOKS\n   URL: https://adsengineer-cloud.adsengineer.workers.dev/api/v1/shopify/webhook\n   \n   Run these commands:\n   shopify webhooks create --topic=orders/create --address=https://adsengineer-cloud.adsengineer.workers.dev/api/v1/shopify/webhook\n   shopify webhooks create --topic=orders/paid --address=https://adsengineer-cloud.adsengineer.workers.dev/api/v1/shopify/webhook\n   shopify webhooks create --topic=customers/create --address=https://adsengineer-cloud.adsengineer.workers.dev/api/v1/shopify/webhook\n\n2. ADD GCLID TRACKING SCRIPT\n   Add to theme.liquid before </head>:\n   <script>\n   (function() {\n     const urlParams = new URLSearchParams(window.location.search);\n     const gclid = urlParams.get('gclid');\n     if (gclid) {\n       localStorage.setItem('adsengineer_gclid', gclid);\n     }\n   })();\n   </script>\n\n3. CONVERSION ROUTING\n   Primary: GOOGLE_ADS\n   Secondary: GA4\n   Mode: PARALLEL (Comparison)\n   GA4: G-XXXXXXXXXX\n\n4. TEST YOUR SETUP\n   curl -X POST https://adsengineer-cloud.adsengineer.workers.dev/api/v1/shopify/webhook \\\n     -H \"Content-Type: application/json\" \\\n     -H \"X-Shopify-Shop-Domain: mycannaby.myshopify.com\" \\\n     -d '{\"id\": 123, \"email\": \"test@mycannaby.de\", \"created_at\": \"2024-01-01T00:00:00Z\", \"total_price\": \"99.00\", \"currency\": \"EUR\", \"customer\": {\"id\": 1, \"email\": \"test@mycannaby.de\"}}'\n\nQuestions? Reply to this email.\n\n- AdsEngineer Team\n",
  "reply_to": {
    "email": "support@adsengineer.com"
  },
  "custom_args": {
    "customerName": "mycannaby",
    "setupToken": "bXljYW5uYWJ5OjE3Njc1NTYwOTU1OTQ="
  }
}